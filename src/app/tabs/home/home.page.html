<app-header></app-header>

<ion-content class="ion-no-padding">
  <ion-refresher (ionRefresh)="doRefresh($event)" slot="fixed">
    <ion-refresher-content
      pullingIcon="arrow-down"
      pullingText="Arraste para atualizar..."
      refreshingSpinner="crescent"
      refreshingText="Atualizando..."
    ></ion-refresher-content>
  </ion-refresher>

  <div class="ion-padding box-shadow">
    <div class="list-title">
      <h2>Pode te interessar</h2>
    </div>
    
    <swiper-container 
      [modules]="swiperModules"
      [slidesPerView]="1.15"
      [loop] = "false" *ngIf="events1">
      <swiper-slide *ngFor="let event of events1">
        <ion-card (click)="goToEventDetails(event.event_id)">
          <ion-card-content>
            <ion-row>
              <ion-col size="9" class="ion-text-start light-contrast">
                <h3><strong>{{ event.name }}</strong></h3>
                <p class="subtitle">{{ event.date | date: 'dd MMM yyyy' }}</p>
                <p class="subtitle">by Event Organizer</p>
              </ion-col>
              <ion-col size="3">
                <img [src]="event.photo" alt="Image" class="event-image" >
              </ion-col>
            </ion-row>
          </ion-card-content>
        </ion-card>    
      </swiper-slide>
    </swiper-container>
  </div>
  
  <div class="section-divider"></div>
  
  <div class="ion-padding box-shadow">
    <div class="list-title">
      <h2>Eventos mais recentes</h2>
    </div>
    
    <swiper-container 
      [modules]="swiperModules"
      [slidesPerView]="1.15"
      [loop] = "false" *ngIf="events2">
      <swiper-slide *ngFor="let event of events2">
        <ion-card (click)="goToEventDetails(event.event_id)">
          <ion-card-content>
            <ion-row>
              <ion-col size="9" class="ion-text-start light-contrast">
                <h3><strong>{{ event.name }}</strong></h3>
                <p class="subtitle">{{ event.date | date: 'dd MMM yyyy' }}</p>
                <p class="subtitle">by Event Organizer</p>
              </ion-col>
              <ion-col size="3">
                <img [src]="event.photo" alt="Image" class="event-image" >
              </ion-col>
            </ion-row>
          </ion-card-content>
        </ion-card>    
      </swiper-slide>
    </swiper-container>
  </div>

  <div class="section-divider"></div>

  <div class="ion-padding box-shadow">
    <div class="list-title">
      <h2>Talvez você conheça</h2>
    </div>
    
    <swiper-container 
      [modules]="swiperModules"
      [slidesPerView]="2.1"
      [loop] = "false" *ngIf="friends">
      <swiper-slide *ngFor="let user of friends">
        <ion-card class="custom-width">
          <img alt="{{ user.contact.name }}" src="{{ user.contact.photo }}" class="user-image" />
          <ion-card-header>
            <ion-card-title clas="user-name">{{ user.contact.name }}</ion-card-title>
          </ion-card-header>
        
          <ion-card-content>
            <ion-button shape="round" fill="outline" color="tertiary" size="small" (click)="goToProfile(user.user_id)">Ver perfil</ion-button>
          </ion-card-content>
        </ion-card>
      </swiper-slide>
    </swiper-container>
  </div>  

</ion-content>
